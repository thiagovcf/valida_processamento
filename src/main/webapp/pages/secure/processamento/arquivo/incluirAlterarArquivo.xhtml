<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="../../templates/templateGeral.xhtml">

	<ui:define name="content">

		<div class="row">
			<div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
				<h1 class="page-title txt-color-blueDark">
					<i class="fa-fw fa fa-file"></i>
					<h:outputLabel value="Manter Arquivo" rendered="#{fileFolderFtpBean.alterar}" />
					<h:outputLabel value="Visualizar Arquivo"	rendered="#{fileFolderFtpBean.visualizar}" />
						<span class="page-title txt-color-blueDark">> 
							<strong>Emissor:</strong> #{fileFolderFtpBean.folderFtp.emissor.nome.toLowerCase()}
						</span>
				</h1>
			</div>
		</div>

		<h:form id="formIncluirAlterarArquivo" prependId="false"  >
			<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
			
			<input type="hidden" id="regrasSemana" name="regrasSemana" value="" />
			<input type="hidden" id="regrasMes" name="regrasMes" value="" />
			
			<div class="well">
				<h:panelGroup rendered="#{!fileFolderFtpBean.visualizar}">
				
					<div class="row">
						<div class="col-md-6">
							<fieldset>
								<div class="form-group">
									<div class="row">
										<div class="col-sm-12 col-md-6">
											<label class="control-label">Nome Arquivo: <sup>*</sup></label>
											<h:inputText id="nome" name="nome" value="#{fileFolderFtpBean.fileFolderFtpEmissor.nome}" styleClass="form-control tagsinput" disabled="#{fileFolderFtpBean.visualizar}" data-role="tagsinput" />
										</div>
									</div>	
								</div>
							</fieldset>
							<fieldset>
								<div class="form-group">
								<label class="control-label">A nomeclatura do arquivo é D-1 ?<sup>*</sup></label>
									<div class="row">
										<div class="col-sm-12 ">
											<h:selectOneMenu id="checkArquivoDiaMenosUm" value ="#{fileFolderFtpBean.fileFolderFtpEmissor.checkArquivoDiaMenosUm}" >
												  <f:selectItem itemValue="#{false}" itemLabel="Não" />
												  <f:selectItem itemValue="#{true}" itemLabel="Sim"/>
											</h:selectOneMenu>
										</div>
									</div>	
								</div>
							</fieldset>
							<fieldset>
								<div class="form-group">
								<label class="control-label">Periodo: <sup>*</sup></label>
									<div class="row">
										<div class="col-sm-12 ">
											<div class="col-sm-1"/>
											<div class="col-sm-2" onclick="desabilitaTabelaDatas(); desabilitaTabelaSemana();">
												<label class="radio"><input type="radio" name="radioPeriodo" checked="checked" value="D"/><i></i>Diário</label>
											</div>
											<div class="col-sm-2"  onclick="desabilitaTabelaDatas(); habilitaTabelaSemana(); ">
												<label class="radio"><input type="radio" name="radioPeriodo" value="S"  /><i></i>Semanal</label>
											</div>
											<div class="col-sm-2"  onclick="desabilitaTabelaSemana(); habilitaTabelaDatas(); ">
												<label class="radio"><input type="radio" name="radioPeriodo" value="M" /><i></i>Mensal</label>
											</div>
										</div>
									</div>	
									
									<div class="row">
										<div class="col-sm-12 	">
											<div class="col-sm-8">
												<div id="divTabelaDatas" style="display:none">
													<ui:include src="tabelaDatas.xhtml" />
												</div>
												<div id="divTabelaSemana" style="display:none">
													<ui:include src="tabelaSemana.xhtml" />
												</div>
											</div>
										</div>
									</div>
								</div>
							</fieldset>
						</div>
						<div class="col-md-6">
							<div class="row">
								<div class="jarviswidget"  >
								<header>
									<ul class="nav nav-tabs pull-left in">
										<li class="active">
											<a data-toggle="tab" href="#hr1"><span class="hidden-mobile hidden-tablet"> Valor Fixo </span> </a>
										</li>
										<li>
											<a data-toggle="tab" href="#hr2"><span class="hidden-mobile hidden-tablet"> Regra Data </span>  </a>
										</li>
										<li>
											<a data-toggle="tab" href="#hr3"><span class="hidden-mobile hidden-tablet"> Valor Aleatório </span>  </a>
										</li>
									</ul>
								</header>
								<div>
									<div class="">
										<div class="tab-content">
											<div class="tab-pane active" id="hr1">
												<div class="row">
													<div class="col-sm-12 ">
														<div class="col-sm-1 ">
															Valor
														</div>
														<div class="col-sm-6 ">
															<h:inputText id="vlFixo" name="vlFixo" value="#{fileFolderFtpBean.valorRegraFixo}" styleClass="form-control tagsinput" data-role="tagsinput" />
														</div>
														<div class="col-sm-2 ">
															<p:remoteCommand name="rcAdicionarValorARegraFixo" actionListener="#{fileFolderFtpBean.adicionarValorARegraFixo()}"	update="painelRegras" />
															<h:panelGroup rendered="#{fileFolderFtpBean.alterar}">
																<i class="btn btn-sm btn-primary " onclick="rcAdicionarValorARegraFixo()">Adicionar</i>
															</h:panelGroup>
														</div>
													</div>
												</div>	
												<br/>
											</div>
											<div class="tab-pane" id="hr2">
												<div class="row">
													<div class="col-sm-12 ">
														<div class="col-sm-1 ">
															Valor
														</div>
														<div class="col-sm-6 ">
															<h:selectOneMenu id="vlData" value="#{fileFolderFtpBean.valorRegraData}" styleClass="form-control input-sm" disabled="#{fileFolderFtpBean.visualizar}">
																<f:selectItem itemLabel="Regras de data" />
																<f:selectItem itemLabel="ddMMyyyy" itemValue="ddMMyyyy" />
																<f:selectItem itemLabel="ddMMyy" itemValue="ddMMyy" />
																<f:selectItem itemLabel="yyMMdd" itemValue="yyMMdd" />
																<f:selectItem itemLabel="yyyyMMdd" itemValue="yyyyMMdd" />
															</h:selectOneMenu>
														</div>
														<div class="col-sm-2 ">
															<p:remoteCommand name="rcAdicionarValorRegraData" actionListener="#{fileFolderFtpBean.adicionarValorRegraData()}" update="painelRegras" />
															<h:panelGroup rendered="#{fileFolderFtpBean.alterar}">
																<i class="btn btn-sm btn-primary" onclick="rcAdicionarValorRegraData()">Adicionar</i>
															</h:panelGroup>
														</div>
													</div>
												</div>	
												<br/>
											</div>
											<div class="tab-pane" id="hr3">
												<div class="row">
													<div class="col-sm-12 ">
														<div class="col-sm-2 ">
															Campo Aleatório
														</div>
														<div class="col-sm-2 ">
															<p:remoteCommand name="rcAdicionarValorRegraAletatorio" actionListener="#{fileFolderFtpBean.adicionarValorRegraAletatorio()}" update="painelRegras" />
															<h:panelGroup rendered="#{fileFolderFtpBean.alterar}">
																<i class="btn btn-sm btn-primary " onclick="rcAdicionarValorRegraAletatorio()">Adicionar</i>
															</h:panelGroup>
														</div>
													</div>
												</div>	
												<br/>
											</div>
										</div>
									</div>
								</div>
							</div>
							</div>	
							<h:panelGroup id="painelRegras" >
								<ui:include src="tabelaRegras.xhtml" />
							</h:panelGroup>
						</div>
					</div>
				</h:panelGroup>
				
				<h:panelGroup rendered="#{fileFolderFtpBean.visualizar}">
					<fieldset>
						<div class="form-group">
							<div class="row">
								<div class="col-sm-6 col-md-6">
									<label class="control-label">Nome Arquivo: <sup>*</sup></label>
									<h:inputText value="#{fileFolderFtpBean.fileFolderFtpEmissor.nome}" styleClass="form-control tagsinput" disabled="#{fileFolderFtpBean.visualizar}" data-role="tagsinput" />
								</div>
							</div>
						</div>
					</fieldset>
					<fieldset>
						<div class="form-group">
							<div class="row">
								<div class="col-sm-6 col-md-6">
									<label class="control-label">A nomeclatura do arquivo é D-1 ?<sup>*</sup></label>
									
									<h:panelGroup rendered="#{fileFolderFtpBean.fileFolderFtpEmissor.checkArquivoDiaMenosUm == true}">
										<h:inputText value="SIM" styleClass="form-control tagsinput" disabled="#{fileFolderFtpBean.visualizar}" data-role="tagsinput" />
									</h:panelGroup>
									
									<h:panelGroup rendered="#{fileFolderFtpBean.fileFolderFtpEmissor.checkArquivoDiaMenosUm == false}">
										<h:inputText value="NAO" styleClass="form-control tagsinput" disabled="#{fileFolderFtpBean.visualizar}" data-role="tagsinput" />
									</h:panelGroup>
																		
								</div>
							</div>
						</div>
					</fieldset>
					<fieldset>
						<div class="form-group">
							<label class="control-label">Periodo: <sup>*</sup></label>
							<div class="row">
								<div class="col-sm-12 ">
									<div class="col-sm-1"/>
									<div class="col-sm-2" >
										<label class="radio"><input type="radio" name="radioPeriodo" value="D" disabled="disabled"/><i></i>Diário</label>
									</div>
									<div class="col-sm-2"  >
										<label class="radio"><input type="radio" name="radioPeriodo" value="S" disabled="disabled" /><i></i>Semanal</label>
									</div>
									<div class="col-sm-2"  >
										<label class="radio"><input type="radio" name="radioPeriodo" value="M" disabled="disabled"/><i></i>Mensal</label>
									</div>
								</div>
							</div>	
						
							<div class="row">
								<div class="col-sm-12 	">
									<div class="col-sm-8">
										<div id="divTabelaDatas" style="display:none">
											<ui:include src="tabelaDatas.xhtml" />
										</div>
										<div id="divTabelaSemana" style="display:none">
											<ui:include src="tabelaSemana.xhtml" />
										</div>
									</div>
								</div>
							</div>
						</div>
					</fieldset>
					<fieldset>
						<div class="form-group">
							<ui:include src="tabelaRegras.xhtml" />
						</div>	
					</fieldset>	
				</h:panelGroup>
				<footer>
					<div class="form-actions">
						<div class="row">
							<div class="col-md-12">
								<p:remoteCommand name="rcSalvar" action="#{fileFolderFtpBean.salvar()}"/>
								<h:panelGroup rendered="#{fileFolderFtpBean.visualizar and fileFolderFtpBean.fileFolderFtpEmissor.id != null}">
									<a type="button" class="btn btn-success" href="${request.contextPath}/codigoPasta=#{fileFolderFtpBean.folderFtp.id}/alterarConfigurarArquivo">Alterar</a>
								</h:panelGroup>
								<h:panelGroup rendered="#{fileFolderFtpBean.alterar or fileFolderFtpBean.fileFolderFtpEmissor.id == null }">
									<button type="submit" class="btn btn-primary">Salvar</button>
								</h:panelGroup>
		
								<a type="button" class="btn btn-danger" href="${request.contextPath}/listarPasta"> Cancelar </a> 
							</div>
						</div>
					</div>
				</footer>
			</div>
		</h:form>
		
		
	</ui:define>
</ui:composition>
